<% layout('./layouts/layouts.ejs') -%>
<body>
        
         <!-- a local response key keeps to be accessible through out 'a' req-res cycle -->
    <h1>All Listings</h1>
    <div class="row row-cols-lg-3 row-cols-md-3 row-cols-sm-1">
            <% for (let list of allListings){ %>
                <a href="/listings/<%= list._id %>" class="listClick">
                    <div class="Listingcard card col">
                        <img src="<%=  typeof list.image === 'object' ? list.image.url : list.image %>" class="card-img-top" alt="Listing image" style="height: 20rem">
                            <div class="card-img-overlay">
                            </div>
                            <div class="card-body">
                                <p class="card-text ">
                                   <b> <%= list.title %> </b>
                                    <br>
                                &#8377;<%= list.price.toLocaleString("en-IN") %> / night
                                </p>
                            </div>
                            
                    </div>
                </a>
            <%  } %>
     </div>

</body>

